<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>test corail</title>
		<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
		<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.7.7/aframe/build/aframe-ar.js"></script>
		<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>


		<script>
				AFRAME.registerComponent('loaded', {
						init: function () {
							var el = this.el;
							el.addEventListener('model-loaded', () => {
									console.log(el.id+" chargÃ©");
								});
							this.el.addEventListener('model-error', () => {
									// Grab the mesh / scene.
									console.log("erreur");
								});
							}
				});
		</script>

	</head>

  <body style='margin : 0px; overflow: hidden;'>
		<a-scene
				embedded
				arjs='sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;'
				gltf-model="dracoDecoderPath: ./draco/;">


		<a-assets>
			<a-asset-item id="glbcorail1" src="./models/corail1.glb"></a-asset-item>
			<a-asset-item id="glbcorail2" src="./models/corail2.glb"></a-asset-item>
			<a-asset-item id="glbcorail3" src="./models/corail3.glb"></a-asset-item>
			<a-asset-item id="glbcorail4" src="./models/corail4.glb"></a-asset-item>
		</a-assets>


		<a-marker type="pattern" url="./patterns/pattern-corail1.patt">
				<a-entity   id ="corail4"
										scale="0.25 0.25 0.25"
										position="0 0 0"
										rotation="70 140 20"
										loaded
										animation-mixer
										gltf-model="#glbcorail4">
				 </a-entity>
		</a-marker>

		<a-marker type="pattern" url="./patterns/pattern-corail1.patt">
				<a-entity   id ="corail3"
										scale="0.30 0.30 0.30"
										position="0 0 0"
										rotation="180 180 180"
										loaded
										animation-mixer
										gltf-model="#glbcorail3">
				 </a-entity>
		</a-marker>


		<a-marker type="pattern" url="./patterns/pattern-corail1.patt">
				<a-entity   id ="corail2"
										scale="0.25 0.25 0.25"
										position="0 0 0"
										rotation="90 50 150"
										loaded
										animation-mixer
										gltf-model="#glbcorail2">
				 </a-entity>
		</a-marker>

		<a-marker type="pattern" url="./patterns/pattern-corail1.patt">
				<a-entity   id ="corail1"
										scale="0.30 0.30 0.30"
										position="0 0 0"
										rotation="50 10 90"
										loaded
										animation-mixer
										gltf-model="#glbcorail1">
				 </a-entity>
		</a-marker>


				<a-entity camera></a-entity>
    </a-scene>

  </body>
</html>
